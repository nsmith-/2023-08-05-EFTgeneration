{% assign curricula = "swc-gapminder|swc-inflammation"  | split: "|" %}
{% unless curricula contains site.curriculum %}
{% include warning-curriculum.html %}
{% endunless %}

{% include install_instructions/shell.html %}
{% include install_instructions/git.html %}
{% include install_instructions/editor.html %}

{% if site.flavor == "r" %}
{% include install_instructions/r.html %}
{% elsif site.flavor == "python" %}
{% include install_instructions/python.html %}
{% elsif site.flavor == "FIXME" %}
{% include install_instructions/r.html %}
{% include install_instructions/python.html %}
{% else %}
{% include warning-flavor.html %}
{% endif %}

{% comment %}
The following setup instructions are commented out because Carpentries workshops
cover the these topics less frequently. Please uncomment the lines that
correspond to the topics covered in your workshop.

{% include install_instructions/sql.html %}
{% include install_instructions/openrefine.html %}
{% endcomment %}
<div id="shell"> {% comment %} Start of 'shell' section. {% endcomment %}
  <h3>Setup Instructions</h3>
  <p>
    We will start by creating a gridpack
  </p>
  <p>
  Login to lxplus/lpc. Check the validity of your grid certificate:
 <code>voms-proxy-init -voms cms -valid 192:00</code>
  </p>
  <p>
 For the gridpack: <code>git clone https://github.com/cms-sw/genproductions -b mg265UL</code>
</p>
  <p>
  Find the files under bin/MadGraph5_aMCatNLO, Take a look at gridpack_generation.sh. Add a new model SMEFTsim_topU3l_MwScheme 
 <code>cd addons/models</code>
  </p>

<p>
Take a look at param_card.dat and vertices.py/couplings.py
<code>cd addons/cards/SMEFTsim_topU3l_MwScheme_UFO/TT01j_tutorial</code>
 </p>
<p>
To run locally:
<code>./gridpack_generation.sh TT01j_tutorial addons/cards/SMEFTsim_topU3l_MwScheme_UFO/TT01j_tutorial</code>
</p>
<p>  
To run on condor:
<code>nohup ./submit_cmsconnect_gridpack_generation.sh TT01j_tutorial addons/cards/SMEFTsim_topU3l_MwScheme_UFO/TT01j_tutorial > TT01j_tutorial.log
</code>
</p>
<p>  
To run the gridpack to generate a GEN sample:
 <code>cmsrel CMSSW_10_6_27</code>
 <code>cd CMSSW_10_6_27/src</code>
 <code>cmsenv</code>
</p>
<p>   
<code>cmsRun gen_LO_01j_mc_102X_CP5.py gridpack=/home/<USER>/EFT_tutorial/genproductions/bin/MadGraph5_aMCatNLO/TT01j1l_HT800_slc7_amd64_gcc700_CMSSW_10_6_19_tarball.tar.xz maxEvents=1000000
</code>
  
   
  
